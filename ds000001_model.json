{
  "Name": "ds000001 AFNI model",
  "Input": {"Task": "balloonanalogrisktask"},
  "Steps": [
      {
          "Level": "Subject",
          "Transformations": [
              {
                  "Name": "Split",
                  "Input": ["poly_*", "X", "Y", "Z", "RotX", "RotY", "RotZ"],
                  "By": ["run"]
              },
              {
                  "Name": "Factor",
                  "Input": ["trial_type"],
                  "Output": {
                      "pumps_demean": "pumps_fixed",
                      "explode_demean": "explode_fixed",
                      "control_pumps_demean": "control_pumps_fixed",
                      "cash_demean": "cash_fixed"
                  }
              },
              {
                "_comment": "potential replacement for 'copy_to_duration'",
                "Name": "Assign",
                "Input": [ "response_time", "response_time", "response_time", "response_time" ],
                "InputAttr": "value",
                "Target":  ["pumps_fixed", "explode_fixed",
                           "control_pumps_fixed", "cash_fixed"],
                "TargetAttr": "duration"
              },
              {
                "_comment": "(Note: we should not do this but it was in the original model)",
                "Name": "Orthogonalize",
                "Input": ["pumps_fixed_real_RT"],
                "Wrt": ["pumps_fixed"]
              },
              {
                  "Name": "Orthogonalize",
                  "Input": ["explode_fixed_real_RT"],
                  "Wrt": ["explode_fixed"]
              },
              {
                  "Name": "Orthogonalize",
                  "Input": ["control_fixed_real_RT"],
                  "Wrt": ["control_fixed"]
              },
              {
                  "Name": "Orthogonalize",
                  "Input": ["cash_fixed_real_RT"],
                  "Wrt": ["cash_fixed"]
              }
          ],
          "Model": {
              "ModelType": "glm",
              "X": [
                  "pumps_fixed",
                  "pumps_demean",
                  "pumps_fixed_real_RT",
                  "cash_fixed",
                  "cash_demean",
                  "cash_fixed_real_RT",
                  "explode_fixed",
                  "explode_demean",
                  "control_pumps_fixed",
                  "control_pumps_demean",
                  "control_pumps_fixed_real_RT",
                  "poly_*"
              ]
          },
          "Contrasts": [
            {
             "Name": "pumps_realRT_minus_ctrl_realRT",
             "ConditionList": ["pumps_realRT", "ctrl_realRT"],
             "Weights": [1, -1]
                     },
            {
              "Name": "ctrl_realRT_minus_pumps_realRT",
              "ConditionList": ["ctrl_realRT", "pumps_realRT"],
              "Weights": [1, -1]
            },
            {
              "Name": "pumps_fixed_minus_ctrl_fixed",
              "ConditionList": ["pumps_fixed", "ctrl_fixed"],
              "Weights": [1, -1]
            },
            {
              "Name": "ctrl_fixed_minus_pumps_fixed",
              "ConditionList": ["ctrl_fixed", "pumps_fixed"],
              "Weights": [1, -1]
            },
            {
              "Name": "pumps_demean_minus_ctrl_demean",
              "ConditionList": ["pumps_demean", "ctrl_demean"],
              "Weights": [1, -1]
            },
            {
              "Name": "ctrl_demean_minus_pumps_demean",
              "ConditionList": ["ctrl_demean", "pumps_demean"],
              "Weights": [1, -1]
            }
          ]
      },
      {
        "Level": "Dataset",
        "Model": {
          "ModelType": "glm",
          "VarianceStructure": [{
            "Name": "within_subject_var",
            "GroupBy": "subject"
          }]
        },
        "AutoContrasts": [
          "ctrl_realRT_minus_pumps_realRT",
          "pumps_fixed_minus_ctrl_fixed",
          "ctrl_fixed_minus_pumps_fixed",
          "pumps_demean_minus_ctrl_demean",
          "ctrl_demean_minus_pumps_demean"
        ]
      }
    ]
}
